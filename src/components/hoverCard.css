@import "tailwindcss";

/**
 * HoverCard Component Styles
 *
 * Uses native Popover API for show/hide state
 * Provides positioning, animations, and arrow styling
 */

/* Root container */
.hovercard-root {
	@apply relative inline-block;
}

/* Trigger wrapper */
.hovercard-trigger {
	@apply inline-flex items-center cursor-pointer;
}

.hovercard-trigger:focus-visible {
	outline: 2px solid rgb(59 130 246);
	outline-offset: 2px;
	border-radius: 0.25rem;
}

/* Content card - Uses Popover API for visibility */
.hovercard-content {
	@apply fixed z-50 bg-white border border-gray-200 rounded-lg shadow-lg;
	@apply p-4;
	@apply transition-all duration-200 ease-out;

	/* Remove default popover styles */
	margin: 0;
	inset: unset;

	/* Initial state - hidden via Popover API */
	&:not(:popover-open) {
		@apply invisible opacity-0;
		transform: scale(0.95);
	}

	/* Open state - shown via Popover API */
	&:popover-open {
		@apply visible opacity-100;
		transform: scale(1);
	}
}

/* Content inner wrapper for spacing */
.hovercard-content-inner {
	@apply space-y-2;
}

/* Arrow indicator */
.hovercard-arrow {
	@apply absolute w-3 h-3 bg-white border-gray-200 rotate-45;
}

.hovercard-content:not(:popover-open) .hovercard-arrow {
	@apply invisible;
}

/* Arrow positioning based on side */
.hovercard-content[data-positioned-side="top"] .hovercard-arrow {
	@apply bottom-[-6px] left-1/2 -translate-x-1/2;
	@apply border-r border-b;
}

.hovercard-content[data-positioned-side="bottom"] .hovercard-arrow {
	@apply top-[-6px] left-1/2 -translate-x-1/2;
	@apply border-l border-t;
}

.hovercard-content[data-positioned-side="left"] .hovercard-arrow {
	@apply right-[-6px] top-1/2 -translate-y-1/2;
	@apply border-r border-t;
}

.hovercard-content[data-positioned-side="right"] .hovercard-arrow {
	@apply left-[-6px] top-1/2 -translate-y-1/2;
	@apply border-l border-b;
}

/* Animation variants based on side */
.hovercard-content[data-side="top"]:not(:popover-open) {
	transform: scale(0.95) translateY(4px);
}

.hovercard-content[data-side="bottom"]:not(:popover-open) {
	transform: scale(0.95) translateY(-4px);
}

.hovercard-content[data-side="left"]:not(:popover-open) {
	transform: scale(0.95) translateX(4px);
}

.hovercard-content[data-side="right"]:not(:popover-open) {
	transform: scale(0.95) translateX(-4px);
}

/* Typography defaults for content */
.hovercard-content-inner h1,
.hovercard-content-inner h2,
.hovercard-content-inner h3,
.hovercard-content-inner h4 {
	@apply font-semibold text-gray-900 mb-1;
}

.hovercard-content-inner h3 {
	@apply text-base;
}

.hovercard-content-inner h4 {
	@apply text-sm;
}

.hovercard-content-inner p {
	@apply text-sm text-gray-600 leading-relaxed;
}

.hovercard-content-inner a {
	@apply text-blue-600 hover:text-blue-700 underline;
}

/* Divider support */
.hovercard-content-inner hr {
	@apply border-gray-200 my-2;
}

/* Image support */
.hovercard-content-inner img {
	@apply rounded border border-gray-200;
}
