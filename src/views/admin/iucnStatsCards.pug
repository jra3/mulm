//- IUCN Statistics Cards (HTMX Fragment)
//- Can be rendered standalone or included in dashboard

.mt-6.mb-6
  if syncComplete && syncResults
    //- Show sync completion message
    .bg-green-50.border.border-green-200.rounded-lg.p-4.mb-6
      .flex.items-start.gap-3
        svg.w-6.h-6.text-green-600.flex-shrink-0(xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor")
          path(stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z")
        div
          h3.text-base.font-semibold.text-green-800 Sync Complete
          p.text-sm.text-green-700.mt-1
            | Processed #{syncResults.total} species:
            | #{syncResults.success} successful,
            | #{syncResults.notFound} not found,
            | #{syncResults.errors} errors.

  div(class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4")
    //- Total Species
    .bg-white.border.border-gray-200.rounded-lg.p-6.shadow-sm
      .text-center
        .text-3xl.font-bold.text-gray-900= stats.total_species
        .text-sm.text-gray-600.mt-1 Total Species
        .text-xs.text-gray-500.mt-2
          if stats.species_with_iucn_data !== undefined
            | #{stats.species_with_iucn_data} with IUCN data

    //- Successful Syncs
    .bg-white.border.border-gray-200.rounded-lg.p-6.shadow-sm
      .text-center
        .text-3xl.font-bold.text-green-600= stats.successful_syncs || 0
        .text-sm.text-gray-600.mt-1 Successful Syncs
        .text-xs.text-gray-500.mt-2
          | Total sync operations: #{stats.total_syncs || 0}

    //- Not Found (Common)
    .bg-white.border.border-gray-200.rounded-lg.p-6.shadow-sm
      .text-center
        .text-3xl.font-bold.text-gray-600= stats.not_found_count || 0
        .text-sm.text-gray-600.mt-1 Not in IUCN Database
        .text-xs.text-gray-500.mt-2
          | Many aquarium species aren't assessed

    //- Errors
    .bg-white.border.border-gray-200.rounded-lg.p-6.shadow-sm
      .text-center
        - const errorColor = stats.error_count > 0 ? 'text-red-600' : 'text-gray-600'
        .text-3xl.font-bold(class=errorColor)= stats.error_count || 0
        .text-sm.text-gray-600.mt-1 API Errors
        if stats.last_sync_date
          .text-xs.text-gray-500.mt-2
            | Last sync: #{new Date(stats.last_sync_date).toLocaleString()}

  //- Coverage Stats
  if stats.species_with_iucn_data !== undefined && stats.total_species > 0
    - const coveragePercent = Math.round((stats.species_with_iucn_data / stats.total_species) * 100)
    .mt-4.bg-gray-50.rounded-lg.p-4
      .flex.items-center.justify-between.mb-2
        span.text-sm.font-medium.text-gray-700 IUCN Data Coverage
        span.text-sm.font-bold.text-gray-900= `${coveragePercent}%`
      .w-full.bg-gray-200.rounded-full.h-2
        .bg-blue-600.h-2.rounded-full(style=`width: ${coveragePercent}%`)
