//- Admin Actions Panel Component
//- Collapsible panel for admin dashboard access
//-
//- @param witnessCount - Number of submissions awaiting witness
//- @param approvalsCount - Number of submissions ready for approval
//- @param witnessProgram - Program type for witness queue link
//- @param approvalsProgram - Program type for approval queue link

mixin adminActionsPanel(witnessCount, approvalsCount, witnessProgram, approvalsProgram)
	- const totalCount = witnessCount + approvalsCount
	- const hasItems = totalCount > 0

	.admin-actions-panel.mx-auto.max-w-md(
		class=hasItems ? "has-pending-items" : ""
		role="region"
		aria-label="Admin dashboard actions")

		//- Panel header (always visible)
		button.admin-panel-header(
			type="button"
			hx-get="/admin/panel-toggle"
			hx-swap="none"
			hx-on:click="this.closest('.admin-actions-panel').classList.toggle('expanded')"
			aria-expanded="false"
			aria-controls="adminPanelContent"
			aria-label=`Admin actions, ${totalCount} items pending`)

			.flex.items-center.justify-between.w-full
				.flex.items-center.gap-3
					span.font-semibold Admin
					if hasItems
						span.admin-count-badge= totalCount

				//- Chevron
				svg.chevron-icon(
					width="16"
					height="16"
					viewBox="0 0 16 16"
					fill="currentColor"
					aria-hidden="true")
					path(d="M4 6l4 4 4-4")

		//- Panel content (expandable)
		.admin-panel-content#adminPanelContent(aria-hidden="true")
			.admin-action-items

				//- Witness Queue
				a.admin-action-item(
					href=`/admin/witness-queue/${witnessProgram}`
					aria-label=`Witness queue, ${witnessCount} submissions`)
					.flex.items-center.justify-between.w-full
						span Witness Queue
						if witnessCount > 0
							span.item-badge= witnessCount

				//- Approval Queue
				a.admin-action-item(
					href=`/admin/queue/${approvalsProgram}`
					aria-label=`Approval queue, ${approvalsCount} submissions`)
					.flex.items-center.justify-between.w-full
						span Approval Queue
						if approvalsCount > 0
							span.item-badge= approvalsCount

				//- Manage Members
				a.admin-action-item(
					href="/admin/members"
					aria-label="Manage members")
					span Manage Members
