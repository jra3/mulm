//- Admin Actions Panel Component
//- Collapsible panel for admin dashboard access
//-
//- @param witnessCount - Number of submissions awaiting witness
//- @param approvalsCount - Number of submissions ready for approval
//- @param witnessProgram - Program type for witness queue link
//- @param approvalsProgram - Program type for approval queue link

mixin adminActionsPanel(witnessCount, approvalsCount, witnessProgram, approvalsProgram)
	- const totalCount = witnessCount + approvalsCount

	.admin-popover(
		role="group"
		aria-label="Admin dashboard")

		//- Simple button (aligns with other buttons)
		button.outline(
			type="button"
			hx-on:click="this.closest('.admin-popover').classList.toggle('open')"
			aria-haspopup="true"
			aria-label=`Admin menu, ${totalCount} items pending`)
			| Admin
			if totalCount > 0
				| #{' '}
				span.bg-red-500.px-1.py-1.rounded-xl= totalCount

		//- Popover menu (floats over content)
		.admin-popover-menu(role="menu")
			a.admin-menu-item(
				href=`/admin/witness-queue/${witnessProgram}`
				role="menuitem")
				span Witness Queue
				if witnessCount > 0
					span.bg-red-500.text-white.px-1.py-1.rounded-xl.text-xs.ml-2= witnessCount

			a.admin-menu-item(
				href=`/admin/queue/${approvalsProgram}`
				role="menuitem")
				span Approval Queue
				if approvalsCount > 0
					span.bg-red-500.text-white.px-1.py-1.rounded-xl.text-xs.ml-2= approvalsCount

			a.admin-menu-item(
				href="/admin/members"
				role="menuitem") Manage Members
