include ../mixins/emptyState.pug

//- Video Preview Card
//- Displays video thumbnail and metadata after URL validation
.bg-white.border.border-gray-300.rounded-lg.p-4.mt-2(role="region" aria-label="Video preview")
	.flex.gap-4
		//- Thumbnail
		if metadata.thumbnailUrl
			img.rounded(
				src=metadata.thumbnailUrl
				alt=metadata.title || "Video thumbnail"
				class="w-32 h-24 object-cover flex-shrink-0"
			)
		else
			.bg-gray-200.rounded.flex.items-center.justify-center(class="w-32 h-24")
				+emptyState("No preview", { size: "xs" })

		//- Metadata
		.flex-1.min-w-0
			if metadata.title
				h4.font-semibold.text-gray-900.text-sm.truncate= metadata.title
			else
				h4.font-semibold.text-gray-900.text-sm Valid video link

			if metadata.author
				p.text-xs.text-gray-600.mt-1= metadata.author

			.flex.items-center.gap-2.mt-2
				if metadata.platform === 'youtube'
					span.inline-flex.items-center.px-2.py-1.rounded.text-xs.font-medium.bg-red-100.text-red-800
						| YouTube
				else if metadata.platform === 'vimeo'
					span.inline-flex.items-center.px-2.py-1.rounded.text-xs.font-medium.bg-blue-100.text-blue-800
						| Vimeo

				span.text-xs.text-green-600 âœ“ Valid
